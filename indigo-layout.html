<!--
@license
Copyright (c) 2017 The Indigo Project Authors. All rights reserved.
-->
<link rel="import" href="../polymer/polymer.html">
<!--
Indigo Layout
-->
<dom-module id="indigo-layout">
    <iron-ajax
            auto
            url="./json/posts.json"
            handle-as="json"
            on-response="handlePosts"
            headers='{"X-Requested-With": "XMLHttpRequest"}'
            debounce-duration="300"
            last-reponse="{{ajaxResponse}}"
            data-import></iron-ajax>
    <template is="dom-repeat" items="[[ajaxResponse]]">
        <span>{{item.name}}</span>
    </template>
    <paper-button class="pink" data-import>Plain Link</paper-button>
    <template strip-whitespace>
        <slot></slot>
    </template>
    <script>
        // define the element's class element
        class IndigoLayout extends Polymer.Element {

            static get is() { return 'indigo-layout'; }

            // Element class can define custom element reactions
            connectedCallback() {
                super.connectedCallback();
                this.setAttribute('resolved', 'true');
                console.log('indigo-layout created!');
            }
            ready() {
                super.ready();
                this.setAttribute('resolved', 'true');
            }
        }
    </script>
</dom-module>